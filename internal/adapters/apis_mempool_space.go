// 后续版本需要将以下两个Client合并为一个Client
package adapters

import (
	"context"

	"github.com/crazycloudcc/btcapis/internal/adapters/mempoolapis"
)

// mempool.space的接口集合
// 作为bitcoindrpcetc的补充
type MempoolAdapterClient interface {
	/////////////////////////////////////////////////////////////////////////////////////////////////
	// 地址相关接口 client_address.go

	// 获取地址余额
	AddressGetBalance(ctx context.Context, addr string) (int64, int64, error)

	// 获取地址 UTXO
	AddressGetUTXOs(ctx context.Context, addr string) ([]mempoolapis.UTXODTO, error)

	/////////////////////////////////////////////////////////////////////////////////////////////////
	// 交易相关接口 client_tx.go

	// 估算交易费率
	EstimateFeeRate(ctx context.Context, targetBlocks int) (*mempoolapis.FeeRateDTO, error)

	// 获取交易的原始数据，返回二进制格式
	TxGetRaw(ctx context.Context, txid string) ([]byte, error)

	// 广播交易，返回交易ID
	TxBroadcast(ctx context.Context, rawtx []byte) (string, error)

	/////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////
}
